SpheriX эксперт 922 Сообщений: Баллов: 933 Регистрация: 08.08.2005 Противоречивый админ. Цитата SOLDIER пишет: Кстати - с удовольствием услышу - почему не стоит считать трафик по СНМП с портов свича Причин несколько: 1) Броадкасты. В основном arp who-has и с виндовых клиентов, регулярно обшаривающих сетевое окружение. 2) У пользователей и так возникают вопросы при обсчете по ip, почему я скачал файл в 1 мегабайт, а в статистике у вас больше, чем мегабайт. (Чуть-чуть). А то, что есть dns (ладно, почти все делают доступ к DNS бесплатным), что есть начало сессии, есть передача команд на закачку, есть инкапсуляция в tcp пакет, который по определению дает объем бОльший, чем передан кусок файла за счет заголовков пакета, есть пакеты подтверждения доставки, есть инкапсуляция самого файла в условиях протокола, по которому он передается (http, ftp, пиринговые), завернут ли он в SSL, например. Ethernet фрейм ведь еще больше. К нему еще добавляются его эзернетовские заголовки. 3) Что делать после перезагрузки свича в случае пропадания питания? Ведь на каждый свич не поставишь по дизель-генератору. Можно, конечно, сравнивать 4) Как давать детализацию о том, с кем было соединение? У нас в законе есть пункт о детализации. И как доказать, что ты не прибавляешь сколько-то байт в своем билинге для выравнивания статистики из ip с arp В результате сертифицировать такую АСР сложнее, да и сделать ее так, чтобы она сошлась более-менее по объемам сложно. Те же провайдеры, когда считают, кто кому сколько должен соглашаются о допустимых погрешностях измерений. А чтобы посчитать с шизофренической точностью и дотошность до бита - надо сохранять каждый пакет отдельно и отдельно его считать, и фильтровать ненужные служебные. Вот только при нынешних объемах и скоростях передающихся данных потребуется нефиговая процессорная и дисковая моща. И как определить, какой пакет был действительно служебным ? 5) Как мультикаст до пользователя считать ? Пользователь не смотрит передачу, а данные еще какое-то время идут. Ок.Причин несколько:1) Броадкасты. В основном arp who-has и с виндовых клиентов, регулярно обшаривающих сетевое окружение.2) У пользователей и так возникают вопросы при обсчете по ip, почему я скачал файл в 1 мегабайт, а в статистике у вас больше, чем мегабайт. (Чуть-чуть). А то, что есть dns (ладно, почти все делают доступ к DNS бесплатным), что есть начало сессии, есть передача команд на закачку, есть инкапсуляция в tcp пакет, который по определению дает объем бОльший, чем передан кусок файла за счет заголовков пакета, есть пакеты подтверждения доставки, есть инкапсуляция самого файла в условиях протокола, по которому он передается (http, ftp, пиринговые), завернут ли он в SSL, например. Ethernet фрейм ведь еще больше. К нему еще добавляются его эзернетовские заголовки.3) Что делать после перезагрузки свича в случае пропадания питания? Ведь на каждый свич не поставишь по дизель-генератору. Можно, конечно, сравнивать4) Как давать детализацию о том, с кем было соединение? У нас в законе есть пункт о детализации. И как доказать, что ты не прибавляешь сколько-то байт в своем билинге для выравнивания статистики из ip с arpВ результате сертифицировать такую АСР сложнее, да и сделать ее так, чтобы она сошлась более-менее по объемам сложно. Те же провайдеры, когда считают, кто кому сколько должен соглашаются о допустимых погрешностях измерений.А чтобы посчитать с шизофренической точностью и дотошность до бита - надо сохранять каждый пакет отдельно и отдельно его считать, и фильтровать ненужные служебные. Вот только при нынешних объемах и скоростях передающихся данных потребуется нефиговая процессорная и дисковая моща. И как определить, какой пакет был действительно служебным ?5) Как мультикаст до пользователя считать ? Пользователь не смотрит передачу, а данные еще какое-то время идут. SpheriX Изменено: Да убоится юзер админа своего (с) Библия юзера... Возлюби пользователя своего как самого себя (с) Руководство по эксплуатации пользователей...